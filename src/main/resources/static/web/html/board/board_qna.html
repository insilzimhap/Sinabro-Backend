<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <title>문의사항 관리 - 시나브로</title>
  <link rel="stylesheet" href="/web/css/header.css" />
  <link rel="stylesheet" href="/web/css/board/board_qna.css" />
  <!-- 공통 fetch 유틸 -->
  <script src="/web/js/common.js"></script>
</head>
<body>
   <div id="header-container"></div>

  <main>
     <div class="sub-nav">
  <a href="board_notice.html">공지사항 게시판</a>
  <a href="board_qna.html" class="active">문의사항 게시판</a>
</div>

    <div class="search-bar">
      <input type="text" id="searchInput" placeholder="검색어를 입력하세요" />
      <select id="statusFilter">
        <option value="all">전체</option>
        <option value="done">제목</option>
        <option value="writerId">아이디</option>
        <option value="writerName">이름</option>
        </select>
        
        <select id="status">
        <option value="">전체</option>
        <option value="답변 전">답변 전</option>
        <option value="답변 완료">답변 완료</option>
      </select>

      <input type="date" id="startDate">
      <spam>~</spam>
      <input type="date" id="endDate">
      
      <button onclick="filterQuestions()">검색</button>
    </div>

    <table>
      <thead>
        <tr>
          <th>No</th>
          <th>제목</th>
          <th>작성일</th>
          <th>작성자</th>
          <th>아이디</th>
          <th>상태</th>
          <th>액션</th>
        </tr>
      </thead>
      <tbody id="questionTable">
        <tr data-status="waiting">
          <td>1</td>
          <td>사용법 관련 문의</td>
          <td>2025-04-11</td>
          <td>심정화</td>
          <td>hwa123</td>
          <td><span class="status-box status-waiting">답변 전</span></td>
          <td><button onclick="location.href='board_qna_answer.html'" class="manage-btn">관리</button></td>
        </tr>
        <tr data-status="done">
          <td>2</td>
          <td>보상이 안왔어요.</td>
          <td>2025-04-10</td>
          <td>박성민</td>
          <td>park321</td>
          <td><span class="status-box status-done">답변 완료</span></td>
          <td><button onclick="location.href='board_qna_answer1.html'" class="manage-btn">관리</button></td>
        </tr>
      </tbody>
    </table>
  </main>

  <script>
    function filterQuestions() {
      const keyword = document.getElementById('searchInput').value.toLowerCase();
      const status = document.getElementById('statusFilter').value;
      const rows = document.querySelectorAll('#questionTable tr');

      rows.forEach(row => {
        const text = row.innerText.toLowerCase();
        const rowStatus = row.getAttribute('data-status');
        const matchKeyword = text.includes(keyword);
        const matchStatus = status === '' || status === rowStatus;

        row.style.display = (matchKeyword && matchStatus) ? '' : 'none';
      });
    }
  </script>
  <script>
    fetch("/web/header.html")
      .then(res => res.text())
      .then(data => {
        document.getElementById("header-container").innerHTML = data;
        checkLogin(); // 헤더 붙인 뒤 호출!
      });
  </script>
</body>
</html>
